{"version":3,"sources":["components/containers/LoginScreen.js","actions/AuthActions.js","actions/PagesActions.js","Voice.js","components/NotificationsView.js","Game.js","multiplayer.js","auth/Profile.js","components/containers/MainScreen.js","components/SquareImage.js","components/containers/ProfileScreen.js","components/RoleView.js","components/ExecutionView.js","components/MusicPlayer.js","components/containers/LobbyScreen.js","components/containers/SetupScreen.js","components/Modal.js","components/app.js","reducers/AuthReducer.js","reducers/PagesReducer.js","reducers/MultiplayerReducer.js","reducers/index.js","index.js"],"names":["LoginScreen","className","style","position","top","bottom","left","right","Component","connect","login","type","moveTo","page","console","log","payload","window","speechSynthesis","getVoices","NotificationView","props","state","shown","btnClick","bind","this","setState","msgTxt","id","key","messages","length","map","m","i","renderMsg","renderMessages","dict","di","arguments","Roles","RoleNames","RoleImages","Phases","LOBBY","ROLE_SELECTION","PRE_GAME","NIGHT_TRANSITION","NIGHT","DAY_TRANSITION","DAY_CALLOUTS","DISCUSSION","TRIAL","EXECUTION","GAME_OVER","RoleMessages","RoleColors","RoleCustomButtons","Presets","EMPTY","name","roles","CLASSIC","WOW","CHAOS","dispatch","roomId","VERSION","update","up","action","io","emit","clearRefreshToken","localStorage","setItem","getRefreshToken","getItem","init","_dispatch","onConnected","location","hostname","startsWith","openSocket","on","connected","players","x","data","href","token","createRefreshToken","onJoinError","leaveRoom","Modal","open","backgroundColor","onClick","close","message","responsiveVoice","speak","pitch","volume","_nightAction","nightAction","display","height","seer_result","notifications","showNotifications","textAlign","reload","onhashchange","hash","setDetails","details","addRole","role","Math","random","toString","getNickname","getAvatar","getColor","MainScreen","join_loading","join_error","create_loading","create_error","partyId","updatePartyId","joinParty","createParty","partyNotFound","createPartyError","event","target","value","err","multiplayer","width","src","placeholder","onChange","renderError","marginTop","fontSize","auth","SquareImage","paddingBottom","color","maxWidth","maxHeight","margin","colors","ProfileScreen","nickname","avatarOptions","avatar","nicknameChanged","save","discard","off","overflowY","padding","renderCards","avatarSelection","alert","setNickname","setColor","setAvatar","a","styles","txt","renderBtnColor","float","lineHeight","RoleH1","posed","h1","visible","opacity","transition","duration","hidden","RoleImg","img","RoleView","phase","immediate","renderRole","timeout","setTimeout","clearTimeout","url","imgv","txtv","pose","TriedImage","ExecutionView","imgshown","graveStyle","player","fontStyle","overflow","image","overlapping","lobby_music","soundtracks","loop","MusicPlayer","playStatus","Sound","status","PLAYING","TimerLbl","div","LobbyScreen","renderPlayerList","renderSun","renderPregameHeader","renderIngameHeader","renderHeader","renderMainDiv","timer","setInterval","time","max","Date","getTime","clearInterval","borderRadius","votes","highlighted","borderBottomRightRadius","border","borderLeft","borderTop","options","onclick","dead","alive","outline","network_id","boxShadow","marginBottom","substr","renderVotesPanel","vote","col1","filter","_","renderPlayerCard","col2","col3","col4","winners","w","is_host","in_game","marginRight","zIndex","sendStartGame","marginLeft","sendSkip","is_night","headerStyle","msg","active","nightIndex","icon","p","WEREWOLVES","VILLAGE","DRAW","NOKILL","NEUTRAL","WITCH","ARSONIST","FOOL","winning_faction","renderWinnersList","won","slice","fontWeight","kickPlayer","renderRolesList","renderIdleDiv","renderRoleSelection","renderBanner","renderNightdiv","renderTrial","renderExecution","renderGameOver","nightActionPlayer","renderCustomButtons","send_execute","send_free","player_on_stand","renderGuiltyInno","ceil","timestr","floor","main_color","secondary_color","customButtonList","buttons","b","showRole","night","day","renderStartButton","renderTimer","renderBottomMenu","renderMusic","minHeight","indexOf","mp","clients","me","night_index","SetupScreen","list","$","dropdown","customStyle","background","renderRoleCard","e","preset","s","srcElement","getAttribute","cE","presetClick","Object","keys","renderRoleBtn","PosedModal","ease","closed","hardClosed","openState","modalContent","content","__hide","__show","__close","modal","xx","App","push","renderScreen","renderDimmer","pages","defaultState","AuthReducer","initialState","PagesReducer","MultiplayerReducer","rootReducer","combineReducers","createStoreWithMiddleware","applyMiddleware","createStore","ReactDOM","render","store","reducers","document","querySelector"],"mappings":"qOAQMA,E,4JACJ,WACE,OACE,gCACE,yBACEC,UAAU,mBACVC,MAAO,CAAEC,SAAU,QAASC,IAAK,EAAGC,OAAQ,EAAGC,KAAM,EAAGC,MAAO,IAE/D,yBAAKN,UAAU,uBAAf,iB,GARgBO,aAeXC,cAAQ,KAAM,CAAEC,MCvBV,WACnB,MAAO,CACLC,KAAM,WDqBKF,CAAyBT,G,OEvB3BY,EAAS,SAACC,GAErB,OADAC,QAAQC,IAAI,YAAaF,GAClB,CACLF,KAAM,cACNK,QAASH,I,+BCFbI,OAAOC,gBAAgBC,YAEvB,IC2DeC,E,kDA5Db,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAEDC,MAAQ,CACXC,OAAO,GAGT,EAAKC,SAAW,EAAKA,SAASC,KAAd,gBAPC,E,sDAUnB,WACEC,KAAKC,SAAS,CACZJ,OAAO,M,uBAIX,SAAUK,EAAQC,GAChB,OACE,yBAAKC,IAAKD,EAAI5B,UAAU,uBACtB,2BAAI2B,M,4BAKV,WAAkB,IAAD,OACf,GAAKF,KAAKJ,MAAMC,MAIhB,OAAKG,KAAKL,MAAMU,UAAaL,KAAKL,MAAMU,SAASC,OAI1CN,KAAKL,MAAMU,SAASE,KAAI,SAACC,EAAGC,GAAJ,OAAU,EAAKC,UAAUF,EAAGC,MAHlDT,KAAKU,UAAU,gCAAiC,K,sBAM3D,WACEV,KAAKC,SAAS,CAAEJ,OAAQG,KAAKJ,MAAMC,U,oBAGrC,WACE,OACE,6BACE,gCACE,kDAQF,6BAECG,KAAKW,sB,GAvDiB7B,aCFlB8B,EAAO,WAElB,IADA,IAAIC,EAAK,GACAJ,EAAI,EAAGA,EAAIK,UAAUR,OAAQG,IACpCI,EAAGC,UAAUL,GAAG,IAAMK,UAAUL,GAAG,GAErC,OAAOI,GAGIE,EAED,WAFCA,EAKH,SALGA,EAQL,OARKA,EASN,MATMA,EAUG,eAVHA,EAaF,UAbEA,EAcH,SAdGA,EAiBD,WAjBCA,EAkBA,YAlBAA,EAqBJ,QArBIA,EAsBE,cAtBFA,EAuBE,cAvBFA,EA0BD,WA1BCA,EA6BH,SA7BGA,EA8BL,OAGKC,EAAYJ,EACvB,CAACG,EAAgB,YACjB,CAACA,EAAgB,YACjB,CAACA,EAAc,UACf,CAACA,EAAY,kBACb,CAACA,EAAa,SACd,CAACA,EAAc,UACf,CAACA,EAAY,QACb,CAACA,EAAc,UACf,CAACA,EAAe,WAChB,CAACA,EAAgB,YACjB,CAACA,EAAiB,aAClB,CAACA,EAAoB,gBACrB,CAACA,EAAW,OACZ,CAACA,EAAiB,aAClB,CAACA,EAAgB,YACjB,CAACA,EAAmB,eACpB,CAACA,EAAmB,eAEpB,CAAC,WAAY,wBACb,CAAC,YAAa,wBACd,CAAC,YAAa,wBACd,CAAC,YAAa,wBACd,CAAC,SAAU,yBAGAE,EAAaL,EACxB,CAACG,EAAgB,gCACjB,CAACA,EAAgB,gCACjB,CAACA,EAAc,8BACf,CAACA,EAAY,4BACb,CAACA,EAAa,6BACd,CAACA,EAAc,8BACf,CAACA,EAAY,8BACb,CAACA,EAAc,8BACf,CAACA,EAAe,+BAChB,CAACA,EAAgB,gCACjB,CAACA,EAAiB,iCAClB,CAACA,EAAoB,oCACrB,CAACA,EAAW,2BACZ,CAACA,EAAmB,mCACpB,CAACA,EAAmB,8BAGTG,EAAS,CACpBC,MAAO,QACPC,eAAgB,iBAChBC,SAAU,WACVC,iBAAkB,mBAClBC,MAAO,QACPC,eAAgB,iBAChBC,aAAc,eACdC,WAAY,aACZC,MAAO,QACPC,UAAW,YACXC,UAAW,aAGAC,EAAelB,EAC1B,CAACG,EAAgB,yBACjB,CAACA,EAAgB,mBACjB,CAACA,EAAc,yBACf,CAACA,EAAY,0BACb,CAACA,EAAa,sDACd,CAACA,EAAc,0BACf,CAACA,EAAc,yBACf,CAACA,EAAe,oCAChB,CAACA,EAAgB,mDACjB,CAACA,EAAiB,0BAClB,CAACA,EAAoB,gCACrB,CAACA,EAAW,4BACZ,CAACA,EAAiB,0BAClB,CAACA,EAAgB,iDACjB,CAACA,EAAmB,sCACpB,CAACA,EAAmB,0BAGTgB,EAAanB,EACxB,CAACG,EAAgB,OACjB,CAACA,EAAiB,OAClB,CAACA,EAAgB,SACjB,CAACA,EAAc,SACf,CAACA,EAAY,SACb,CAACA,EAAW,SACZ,CAACA,EAAoB,SACrB,CAACA,EAAc,SACf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","file":"static/js/main.637860dc.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nimport { Header, Button } from \"semantic-ui-react\";\n\nimport { connect } from \"react-redux\";\n\nimport { login } from \"../../actions/AuthActions\";\n\nclass LoginScreen extends Component {\n  render() {\n    return (\n      <center>\n        <div\n          className=\"ui active dimmer\"\n          style={{ position: \"fixed\", top: 0, bottom: 0, left: 0, right: 0 }}\n        >\n          <div className=\"ui huge text loader\">Loading</div>\n        </div>\n      </center>\n    );\n  }\n}\n\nexport default connect(null, { login })(LoginScreen);\n","export const login = () => {\n  return {\n    type: \"LOGIN\",\n  };\n};\n","export const moveTo = (page) => {\n  console.log(\"moving to\", page);\n  return {\n    type: \"CHANGE_PAGE\",\n    payload: page,\n  };\n};\n","import { get } from \"https\";\n\nwindow.speechSynthesis.getVoices();\n\nconst getVoice = (name) => {\n  var vcs = speechSynthesis.getVoices().filter((x) => ~x.name.indexOf(name));\n  window.io.emit(\n    \"debug\",\n    speechSynthesis.getVoices().map((x) => x.name)\n  );\n  return vcs.length ? vcs[0] : null;\n};\n\nconst defaultVoice = () => {\n  return (\n    getVoice(\"UK English Male\") ||\n    getVoice(\"Japanese Japan\") ||\n    getVoice(\"English\")\n  );\n};\n\nexport default (message) => {\n  // return new Promise((resolve, reject) => {\n  //     alert(defaultVoice().name);\n  //     var voice = defaultVoice();\n  //     var pitch = 0.6;\n\n  //     var msg = new SpeechSynthesisUtterance(message);\n  //     msg.pitch = pitch;\n  //     msg.voice = voice;\n  //     msg.onend = resolve;\n\n  //     speechSynthesis.cancel();\n  //     speechSynthesis.speak(msg);\n  // });\n\n  responsiveVoice.speak(message, \"UK English Male\", { pitch: 0.6, volume: 2 });\n};\n","import React, { Component } from \"react\";\n\nclass NotificationView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shown: false,\n    };\n\n    this.btnClick = this.btnClick.bind(this);\n  }\n\n  componentWillMount() {\n    this.setState({\n      shown: true,\n    });\n  }\n\n  renderMsg(msgTxt, id) {\n    return (\n      <div key={id} className=\"ui floating message\">\n        <p>{msgTxt}</p>\n      </div>\n    );\n  }\n\n  renderMessages() {\n    if (!this.state.shown) {\n      return;\n    }\n\n    if (!this.props.messages || !this.props.messages.length) {\n      return this.renderMsg(\"You have no new notifications\", 0);\n    }\n\n    return this.props.messages.map((m, i) => this.renderMsg(m, i));\n  }\n\n  btnClick() {\n    this.setState({ shown: !this.state.shown });\n  }\n\n  render() {\n    return (\n      <div>\n        <center>\n          <h1>New notifications</h1>\n          {/* <p style={{lineHeight: \"1.4ehm\"}}>You might have some new notifications</p>\n                    \n                    <button className=\"ui button\"\n                        onClick={ this.btnClick }>\n                        { this.state.shown ? \"Hide\" : \"Show\" }\n                    </button> */}\n        </center>\n        <br />\n\n        {this.renderMessages()}\n      </div>\n    );\n  }\n}\n\nexport default NotificationView;\n","export const dict = function () {\n  var di = {};\n  for (var i = 0; i < arguments.length; i++) {\n    di[arguments[i][0]] = arguments[i][1];\n  }\n  return di;\n};\n\nexport const Roles = {\n  // Town idle\n  VILLAGER: \"VILLAGER\",\n\n  // Town protective\n  HEALER: \"HEALER\",\n\n  // Town informative\n  SEER: \"SEER\",\n  SPY: \"SPY\", // TODO\n  INVESTIGATOR: \"INVESTIGATOR\", // TODO\n\n  // Town killing\n  VETERAN: \"VETERAN\",\n  PRIEST: \"PRIEST\",\n\n  // Werewolves\n  WEREWOLF: \"WEREWOLF\",\n  WOLF_SEER: \"WOLF_SEER\", // TODO\n\n  // Witches\n  WITCH: \"WITCH\",\n  CREEPY_GIRL: \"CREEPY_GIRL\",\n  DEATH_WITCH: \"DEATH_WITCH\",\n\n  // Arsonist\n  ARSONIST: \"ARSONIST\", // TODO\n\n  // Neutral roles\n  JESTER: \"JESTER\",\n  FOOL: \"FOOL\",\n};\n\nexport const RoleNames = dict(\n  [Roles.WEREWOLF, \"Werewolf\"],\n  [Roles.VILLAGER, \"Villager\"],\n  [Roles.HEALER, \"Healer\"],\n  [Roles.SEER, \"Fortune Teller\"],\n  [Roles.WITCH, \"Witch\"],\n  [Roles.JESTER, \"Jester\"],\n  [Roles.FOOL, \"Fool\"],\n  [Roles.PRIEST, \"Priest\"],\n  [Roles.VETERAN, \"Veteran\"],\n  [Roles.ARSONIST, \"Arsonist\"],\n  [Roles.WOLF_SEER, \"Wolf Seer\"],\n  [Roles.INVESTIGATOR, \"Investigator\"],\n  [Roles.SPY, \"Spy\"],\n  [Roles.WOLF_SEER, \"Wolf Seer\"],\n  [Roles.ARSONIST, \"Arsonist\"],\n  [Roles.CREEPY_GIRL, \"Creepy Girl\"],\n  [Roles.DEATH_WITCH, \"Death Witch\"],\n\n  [\"TOWN_INV\", \"♦ Invest ♦\"],\n  [\"TOWN_ATCK\", \"♦ Attack ♦\"],\n  [\"TOWN_RAND\", \"♦ Random ♦\"],\n  [\"WOLF_RAND\", \"♦ Random ♦\"],\n  [\"RANDOM\", \"♦ Random ♦\"]\n);\n\nexport const RoleImages = dict(\n  [Roles.WEREWOLF, \"/asset/img/role/werewolf.png\"],\n  [Roles.VILLAGER, \"/asset/img/role/villager.png\"],\n  [Roles.HEALER, \"/asset/img/role/healer.png\"],\n  [Roles.SEER, \"/asset/img/role/seer.png\"],\n  [Roles.WITCH, \"/asset/img/role/witch.png\"],\n  [Roles.JESTER, \"/asset/img/role/jester.png\"],\n  [Roles.FOOL, \"/asset/img/role/jester.png\"],\n  [Roles.PRIEST, \"/asset/img/role/priest.png\"],\n  [Roles.VETERAN, \"/asset/img/role/veteran.png\"],\n  [Roles.ARSONIST, \"/asset/img/role/arsonist.png\"],\n  [Roles.WOLF_SEER, \"/asset/img/role/wolf_seer.png\"],\n  [Roles.INVESTIGATOR, \"/asset/img/role/investigator.png\"],\n  [Roles.SPY, \"/asset/img/role/spy.png\"],\n  [Roles.CREEPY_GIRL, \"/asset/img/role/creepy_girl.png\"],\n  [Roles.DEATH_WITCH, \"/asset/img/role/witch.png\"]\n); // TODO CHANGE WITCH PIC\n\nexport const Phases = {\n  LOBBY: \"LOBBY\",\n  ROLE_SELECTION: \"ROLE_SELECTION\",\n  PRE_GAME: \"PRE_GAME\",\n  NIGHT_TRANSITION: \"NIGHT_TRANSITION\",\n  NIGHT: \"NIGHT\",\n  DAY_TRANSITION: \"DAY_TRANSITION\",\n  DAY_CALLOUTS: \"DAY_CALLOUTS\",\n  DISCUSSION: \"DISCUSSION\",\n  TRIAL: \"TRIAL\",\n  EXECUTION: \"EXECUTION\",\n  GAME_OVER: \"GAME_OVER\",\n};\n\nexport const RoleMessages = dict(\n  [Roles.WEREWOLF, \"Pick a player to kill\"],\n  [Roles.VILLAGER, \"You are useless\"],\n  [Roles.HEALER, \"Pick a player to heal\"],\n  [Roles.SEER, \"Pick a player to check\"],\n  [Roles.WITCH, \"Pick a player to spell, then pick their new target\"],\n  [Roles.JESTER, \"Pick a player to haunt\"],\n  [Roles.PRIEST, \"Pick a player to kill\"],\n  [Roles.VETERAN, \"Would you like to stay on alert?\"],\n  [Roles.ARSONIST, \"Pick a player to douse or ignite doused players\"],\n  [Roles.WOLF_SEER, \"Pick a player to check\"],\n  [Roles.INVESTIGATOR, \"Pick a player to investigate\"],\n  [Roles.SPY, \"Pick a player to look at\"],\n  [Roles.WOLF_SEER, \"Pick a player to check\"],\n  [Roles.ARSONIST, \"Pick a player to douse or ignite your targets\"],\n  [Roles.CREEPY_GIRL, \"Pick a player to give your doll to\"],\n  [Roles.DEATH_WITCH, \"Pick a player to kill\"]\n);\n\nexport const RoleColors = dict(\n  [Roles.WEREWOLF, \"red\"],\n  [Roles.WOLF_SEER, \"red\"],\n  [Roles.VILLAGER, \"green\"],\n  [Roles.HEALER, \"green\"],\n  [Roles.SEER, \"green\"],\n  [Roles.SPY, \"green\"],\n  [Roles.INVESTIGATOR, \"green\"],\n  [Roles.PRIEST, \"green\"],\n  [Roles.VETERAN, \"green\"],\n  [Roles.WITCH, \"purple\"],\n  [Roles.CREEPY_GIRL, \"purple\"],\n  [Roles.DEATH_WITCH, \"purple\"],\n  [Roles.JESTER, \"blue\"],\n  [Roles.FOOL, \"blue\"],\n  [Roles.ARSONIST, \"orange\"],\n  [\"TOWN_INV\", \"green\"],\n  [\"TOWN_ATCK\", \"green\"],\n  [\"TOWN_RAND\", \"green\"],\n  [\"WOLF_RAND\", \"red\"],\n  [\"RANDOM\", \"white\"]\n);\n\nexport const RoleCustomButtons = dict(\n  [\n    Roles.VETERAN,\n    [\n      [\"Alert\", true],\n      [\"Sleep\", false],\n    ],\n  ],\n  [\n    Roles.ARSONIST,\n    [\n      [\"Ignite\", true],\n      [\"Pass\", false],\n    ],\n  ]\n);\n\nexport const Presets = {\n  EMPTY: {\n    name: \"Empty\",\n    roles: [],\n  },\n  CLASSIC: {\n    name: \"Classic\",\n    roles: [\n      Roles.WEREWOLF,\n      Roles.HEALER,\n      Roles.SEER,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.WEREWOLF,\n      Roles.VILLAGER,\n    ],\n  },\n  WOW: {\n    name: \"==Wow==\",\n    roles: [\n      Roles.WEREWOLF,\n      Roles.HEALER,\n      \"TOWN_INV\",\n      Roles.VILLAGER,\n      Roles.SEER,\n      Roles.FOOL,\n      Roles.WEREWOLF,\n      \"TOWN_ATCK\",\n      \"TOWN_INV\",\n      \"WOLF_RAND\",\n      \"TOWN_RAND\",\n      Roles.WITCH,\n      \"TOWN_ATCK\",\n      \"TOWN_INV\",\n      Roles.ARSONIST,\n      Roles.CREEPY_GIRL,\n    ],\n  },\n  \"CLASSIC+\": {\n    name: \"Classic+\",\n    roles: [\n      Roles.WEREWOLF,\n      Roles.HEALER,\n      Roles.SEER,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.WEREWOLF,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.WEREWOLF,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.WEREWOLF,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.WEREWOLF,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.WEREWOLF,\n    ],\n  },\n  CHAOS: {\n    name: \"Chaos\",\n    roles: [\n      Roles.WEREWOLF,\n      Roles.HEALER,\n      Roles.SEER,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.JESTER,\n      Roles.WITCH,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.WEREWOLF,\n      Roles.VILLAGER,\n      Roles.VILLAGER,\n      Roles.WEREWOLF,\n    ],\n  },\n};\n","import openSocket from \"socket.io-client\";\n\nimport React from \"react\";\n\nimport speak from \"./Voice\";\nimport NotificationView from \"./components/NotificationsView\";\nimport { Presets } from \"./Game\";\n\nimport { moveTo } from \"./actions/PagesActions\";\n\nvar dispatch = null;\nvar roomId = null;\n\nwindow.VERSION = \"1.0.3\";\n\nconst update = (up) => {\n  dispatch({\n    type: \"UPDATE_MULTIPLAYER\",\n    payload: up,\n  });\n  roomId = up.roomId || roomId || null;\n};\n\nwindow.action = (type, payload) => {\n  window.io.emit(\"action\", { type, payload });\n};\n\nconst createRefreshToken = (roomId) => {\n  var token = roomId + \"/\" + window.io.id;\n  window.localStorage.setItem(\"werewolf__refresh_token\", token);\n};\n\nconst clearRefreshToken = () => {\n  window.localStorage.setItem(\"werewolf__refresh_token\", \"\");\n};\n\nconst getRefreshToken = () => {\n  return window.localStorage.getItem(\"werewolf__refresh_token\") || null;\n};\n\nexport const init = (_dispatch) => {\n  dispatch = _dispatch;\n  window.onConnected = [];\n\n  if (window.location.hostname.startsWith(\"localhost\")) {\n    window.io = openSocket(\"ws://127.0.0.1:12988/\");\n  } else {\n    window.io = openSocket(\"wss://werewolf-old.herokuapp.com/\");\n  }\n\n  window.io.on(\"connected\", () => {\n    update({\n      connected: true,\n      roomId: null,\n      players: [],\n      id: window.io.id,\n    });\n\n    if (window.onConnected) {\n      for (var x of window.onConnected) {\n        x();\n      }\n    }\n\n    if (getRefreshToken()) {\n      window.io.emit(\"refresh_token\", getRefreshToken());\n    }\n  });\n\n  window.io.on(\"disconnect\", () => {\n    update({ connected: false });\n  });\n\n  window.io.on(\"room\", function (data) {\n    update({ roomId: data });\n    location.href = \"#\" + data;\n    createRefreshToken(data);\n  });\n\n  window.io.on(\"join_error\", function (data) {\n    if (window.onJoinError) {\n      window.onJoinError(data);\n    }\n  });\n\n  window.io.on(\"state\", function (data) {\n    update(data);\n  });\n\n  window.io.on(\"kick\", function () {\n    leaveRoom();\n    window.Modal.open(\n      <div>\n        <center>\n          <h1>You have been kicked by the host</h1>\n        </center>\n        <button\n          className=\"ui button\"\n          style={{\n            backgroundColor: \"#ac6635\",\n            position: \"absolute\",\n            bottom: \"20px\",\n            right: \"20px\",\n          }}\n          onClick={() => Modal.close()}\n        >\n          Oof\n        </button>\n      </div>\n    );\n  });\n\n  window.io.on(\"speak\", function (data) {\n    speak(data);\n  });\n\n  window.io.on(\"seer_result\", function (data) {\n    let _nightAction = nightAction;\n    Modal.open(\n      <center>\n        <h3>You sense that your target is...</h3>\n        <div style={{ display: \"block\", height: \"100%\" }}>&nbsp;</div>\n        <h1>{data.seer_result == \"GOOD\" ? \"Good\" : \"Evil\"}</h1>\n        <button\n          className=\"ui button\"\n          style={{\n            backgroundColor: \"#ac6635\",\n            position: \"absolute\",\n            bottom: \"20px\",\n            right: \"20px\",\n          }}\n          onClick={() => {\n            window.Modal.close();\n            _nightAction(true);\n          }}\n        >\n          Ok\n        </button>\n      </center>\n    );\n  });\n\n  window.io.on(\"open_messages\", function (data) {\n    window.notifications = data;\n    showNotifications();\n  });\n\n  window.io.on(\"refresh_fail\", clearRefreshToken);\n\n  window.io.on(\"version\", function (data) {\n    if (data != window.VERSION) {\n      Modal.open(\n        <div>\n          <center>\n            <h1>Uh Oh...</h1>\n            <h3>\n              It seems like this is not the most recent version of the game.\n              <br />\n              Do you want to try and refresh the cache?\n            </h3>\n          </center>\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: \"20px\",\n              right: \"20px\",\n              textAlign: \"right\",\n            }}\n          >\n            (We are not really giving you the choice)\n            <br />\n            <br />\n            <button\n              className=\"ui primary button\"\n              onClick={() => window.location.reload(true)}\n            >\n              Yes\n            </button>\n          </div>\n        </div>\n      );\n    }\n  });\n\n  // This code is **most probably** error prone! Please be cautious with it, future me...\n  window.onhashchange = function () {\n    if (location.hash != \"#\" + roomId) {\n      leaveRoom();\n    }\n  };\n\n  window.io.emit(\"version\"); // Checking version control\n};\n\nexport const createRoom = () => {\n  window.io.emit(\"create\");\n};\n\nexport const joinRoom = (roomId) => {\n  window.io.emit(\"join\", roomId);\n};\n\nexport const leaveRoom = () => {\n  window.io.emit(\"leave\");\n  location.href = \"#\";\n  clearRefreshToken();\n  update({ roomId: null });\n};\n\nexport const setDetails = (details) => {\n  window.io.emit(\"details\", details);\n};\n\nexport const startGame = () => {\n  action(\"start_game\");\n};\n\nexport const kick = (player) => {\n  action(\"kick\", player);\n};\n\nexport const nightAction = (payload) => {\n  action(\"night_action\", payload);\n};\n\nexport const setVote = (player) => {\n  action(\"set_vote\", player);\n};\n\nexport const trialGuilty = () => {\n  action(\"trial_guilty\");\n};\n\nexport const trialInnocent = () => {\n  action(\"trial_innocent\");\n};\n\nexport const addRole = (role) => {\n  action(\"add_role\", role);\n};\n\nexport const removeRole = (role) => {\n  action(\"remove_role\", role);\n};\n\nexport const setPreset = (preset) => {\n  action(\"set_preset\", Presets[preset].roles);\n};\n\nexport const skipDay = () => {\n  action(\"skip_day\");\n};\n\nexport const showNotifications = () => {\n  window.Modal.open(\n    <div>\n      <NotificationView\n        messages={window.notifications}\n        key={Math.random().toString()}\n      />\n      <button\n        className=\"ui button\"\n        style={{\n          backgroundColor: \"#ac6635\",\n          position: \"absolute\",\n          bottom: \"20px\",\n          right: \"20px\",\n        }}\n        onClick={() => {\n          window.Modal.close();\n        }}\n      >\n        Ok\n      </button>\n    </div>\n  );\n};\n","export const getNickname = () => {\n  return localStorage.getItem(\"werewolf__nickname\") || \"\";\n};\n\nexport const setNickname = (nickname) => {\n  localStorage.setItem(\"werewolf__nickname\", nickname);\n};\n\nexport const getAvatar = () => {\n  return (\n    localStorage.getItem(\"werewolf__avatar\") ||\n    \"https://preview.bitmoji.com/avatar-builder-v3/preview/head?scale=1&gender=2&style=5&rotation=0&brow=1601&cheek_details=1355&ear=1430&eye=1610&eyelash=2280&hair=1655&jaw=1410&mouth=2341&nose=2663&blush_tone=15034986&hair_tone=6700839&hair_treatment_tone=7554610&pupil_tone=7448799&skin_tone=7292807&body=10&breast=0&face_proportion=7&eye_spacing=2&eye_size=0&outfit=1018236\"\n  );\n};\n\nexport const setAvatar = (avatar) => {\n  localStorage.setItem(\"werewolf__avatar\", avatar);\n};\n\nexport const setColor = (color) => {\n  localStorage.setItem(\"werewolf__color\", color);\n};\n\nexport const getColor = () => {\n  return localStorage.getItem(\"werewolf__color\") || \"#87ceeb\";\n};\n","import React, { Component } from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport { moveTo } from \"../../actions/PagesActions\";\n\nimport * as multiplayer from \"../../multiplayer\";\nimport { getNickname } from \"../../auth/Profile\";\n\nclass MainScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      join_loading: false,\n      join_error: null,\n      create_loading: false,\n      create_error: null,\n      partyId: \"\",\n    };\n\n    this.updatePartyId = this.updatePartyId.bind(this);\n    this.joinParty = this.joinParty.bind(this);\n    this.createParty = this.createParty.bind(this);\n    this.partyNotFound = this.partyNotFound.bind(this);\n    this.createPartyError = this.createPartyError.bind(this);\n  }\n\n  updatePartyId(event) {\n    this.setState({\n      partyId: event.target.value,\n    });\n  }\n\n  joinParty() {\n    if (getNickname() == \"\") {\n      this.props.moveTo(\"profile\");\n      return;\n    }\n\n    this.setState({\n      join_loading: true,\n      join_error: null,\n    });\n\n    window.onJoinError = (err) => {\n      this.setState({\n        join_loading: false,\n        join_error: err,\n      });\n    };\n    multiplayer.joinRoom(this.state.partyId);\n  }\n\n  partyNotFound() {\n    this.setState({\n      join_loading: false,\n      join_error: \"Party not found\",\n    });\n  }\n\n  createParty() {\n    if (getNickname() == \"\") {\n      this.props.moveTo(\"profile\");\n      return;\n    }\n\n    this.setState({\n      create_loading: true,\n      create_error: null,\n    });\n    multiplayer.createRoom();\n  }\n\n  createPartyError() {\n    this.setState({\n      create_loading: false,\n      create_error: \"Error creating a party\",\n    });\n  }\n\n  renderError(err) {\n    if (err) {\n      return (\n        <div>\n          <br />\n          <div>{err}</div>\n          <br />\n        </div>\n      );\n    } else {\n      return (\n        <div>\n          <br />\n          <br />\n          <br />\n        </div>\n      );\n    }\n  }\n\n  render() {\n    const { join_loading } = this.state;\n\n    return (\n      <div>\n        <div style={{ width: \"100%\", textAlign: \"center\" }}>\n          <img src=\"/asset/img/logo.jpg\" style={{ height: \"30vh\" }} />\n          <div className=\"ui divider\"></div>\n          <h1>Join a party</h1>\n          <div className={\"ui icon input\" + (join_loading ? \" loading\" : \"\")}>\n            <input\n              type=\"number\"\n              placeholder=\"Party ID...\"\n              value={this.state.partyId}\n              onChange={this.updatePartyId}\n            />\n            <i className=\"play link icon\" onClick={this.joinParty}></i>\n          </div>\n          {this.renderError(this.state.join_error)}\n          or\n          <h1>Create a party</h1>\n          <button\n            className={\n              \"ui button\" + (this.state.create_loading ? \" loading\" : \"\")\n            }\n            onClick={this.createParty}\n          >\n            Create new party\n          </button>\n          {this.renderError(this.state.create_error)}\n        </div>\n\n        <div\n          style={{\n            position: \"fixed\",\n            right: 0,\n            top: 0,\n            marginTop: \".5em\",\n            fontSize: \"2em\",\n          }}\n        >\n          <i\n            className=\"cog link icon\"\n            onClick={() => this.props.moveTo(\"profile\")}\n          ></i>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    join_loading: state.auth.login,\n  };\n};\n\nexport default connect(mapStateToProps, { moveTo })(MainScreen);\n","import React from \"react\";\n\nexport const SquareImage = (props) => {\n  return (\n    <div style={{ backgroundColor: \"gray\", paddingBottom: \"100%\" }}>\n      <div\n        style={{\n          position: \"absolute\",\n          top: 0,\n          right: 0,\n          left: 0,\n          bottom: 0,\n          backgroundColor: props.color || \"skyblue\",\n          textAlign: \"center\",\n        }}\n      >\n        <img\n          src={props.src}\n          style={{ maxWidth: \"90%\", maxHeight: \"80%\", margin: \"5%\" }}\n        />\n      </div>\n    </div>\n  );\n};\n","import React, { Component } from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport {\n  getNickname,\n  setNickname,\n  setColor,\n  getColor,\n  getAvatar,\n  setAvatar,\n} from \"../../auth/Profile\";\nimport { moveTo } from \"../../actions/PagesActions\";\n\nimport * as multiplayer from \"../../multiplayer\";\nimport { SquareImage } from \"../SquareImage\";\n\nconst colors = [\n  \"#87ceeb\", // light blue\n  \"#eb87ce\", // pink\n  \"#afcd38\", // light green\n  \"#737dff\", // dark blue\n  \"#ff737d\", // red\n  \"#cda138\", // brown\n  \"#cd38af\", // purple\n  \"#ffff66\", // yellow\n];\n\nclass ProfileScreen extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      nickname: \"\",\n      color: \"skyblue\",\n      avatarOptions: [],\n      avatar: \"\",\n    };\n\n    this.nicknameChanged = this.nicknameChanged.bind(this);\n    this.save = this.save.bind(this);\n    this.discard = this.discard.bind(this);\n  }\n\n  componentWillMount() {\n    this.setState({\n      nickname: getNickname(),\n      color: getColor(),\n      avatar: getAvatar(),\n    });\n\n    window.io.off(\"bitmoji\");\n    window.io.on(\"bitmoji\", (data) => {\n      console.log(data);\n      this.setState({\n        avatarOptions: data,\n      });\n      window.Modal.open(\n        <div>\n          <center>\n            <h3>Select your avatar</h3>\n          </center>\n\n          <br />\n\n          <div\n            className=\"ui four cards\"\n            style={{ overflowY: \"scroll\", maxHeight: \"70vh\", padding: \"20px\" }}\n          >\n            {this.renderCards()}\n          </div>\n\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: \"20px\",\n              right: \"20px\",\n              textAlign: \"right\",\n            }}\n          >\n            <button\n              className=\"ui secondary button\"\n              onClick={this.avatarSelection}\n            >\n              Re-Shuffle\n            </button>\n            <button className=\"ui button\" onClick={() => Modal.close()}>\n              Cancel\n            </button>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  nicknameChanged(event) {\n    this.setState({\n      nickname: event.target.value,\n    });\n  }\n\n  save() {\n    const { nickname, color, avatar } = this.state;\n    if (nickname === \"\") {\n      alert(\"Name can't be empty\");\n    } else {\n      setNickname(nickname);\n      setColor(color);\n      setAvatar(avatar);\n      multiplayer.setDetails({\n        nickname: nickname,\n        color: color,\n        avatar: avatar,\n      });\n      this.props.moveTo(\"main\");\n    }\n  }\n\n  discard() {\n    this.props.moveTo(\"main\");\n  }\n\n  renderBtnColor(color) {\n    return (\n      <button\n        key={color}\n        className={\"circular ui icon button\"}\n        style={{ backgroundColor: color }}\n        onClick={() => this.setState({ color: color })}\n      >\n        <i\n          className={\"icon\" + (this.state.color == color ? \" circle\" : \"\")}\n        ></i>\n      </button>\n    );\n  }\n\n  setAvatar(a) {\n    this.setState({\n      avatar: a,\n    });\n    window.Modal.close();\n  }\n\n  renderCards() {\n    return this.state.avatarOptions.map((x) => (\n      <div key={x} style={{ width: \"25%\" }} onClick={() => this.setAvatar(x)}>\n        <img src={x} style={{ maxWidth: \"90%\", maxHeight: \"90%\" }} />\n      </div>\n    ));\n  }\n\n  avatarSelection() {\n    window.io.emit(\"bitmoji\");\n  }\n\n  render() {\n    return (\n      <div>\n        <br />\n        <center>\n          <h1>Profile</h1>\n        </center>\n        <br />\n        <div className=\"ui container\">\n          <span style={styles.txt}>Name</span>\n          <br />\n          <div className=\"ui input\" style={{ width: \"100%\" }}>\n            <input\n              type=\"text\"\n              placeholder=\"Your name\"\n              value={this.state.nickname}\n              onChange={this.nicknameChanged}\n            />\n          </div>\n          <br />\n          <br />\n\n          <span style={styles.txt}>Color</span>\n          <br />\n          {colors.map((x) => this.renderBtnColor(x))}\n          <br />\n          <br />\n\n          <span style={styles.txt}>\n            Avatar <i>(Click to change)</i>\n          </span>\n          <br />\n          <br />\n          <center>\n            <img\n              style={{ height: \"20vh\" }}\n              src={this.state.avatar}\n              onClick={this.avatarSelection.bind(this)}\n            />\n          </center>\n          <br />\n          <br />\n\n          <div style={{ float: \"right\" }}>\n            <button className=\"ui primary button\" onClick={this.save}>\n              Save\n            </button>\n            <button className=\"ui button\" onClick={this.discard}>\n              Discard\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst styles = {\n  txt: {\n    fontSize: \"large\",\n    lineHeight: \"2em\",\n  },\n};\n\nconst mapStateToProps = (state) => {\n  return {};\n};\n\nexport default connect(mapStateToProps, { moveTo })(ProfileScreen);\n","import React, { Component } from \"react\";\n\nimport { RoleImages, RoleNames } from \"../Game\";\n\nimport posed from \"react-pose\";\n\nconst RoleH1 = posed.h1({\n  visible: {\n    opacity: 1,\n    transition: {\n      duration: 1000,\n    },\n  },\n  hidden: {\n    opacity: 0,\n  },\n});\n\nconst RoleImg = posed.img({\n  visible: {\n    opacity: 1,\n    transition: {\n      duration: 1000,\n    },\n  },\n  hidden: {\n    opacity: 0,\n    transition: {\n      duration: 1000,\n    },\n  },\n});\n\nclass RoleView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      phase: this.props.immediate ? 2 : 0,\n    };\n\n    this.renderRole = this.renderRole.bind(this);\n  }\n\n  componentDidMount() {\n    if (!this.props.immediate) {\n      this.timeout = setTimeout(() => {\n        this.setState({ phase: 1 });\n        this.timeout = setTimeout(() => {\n          this.setState({ phase: 2 });\n        }, 1300);\n      }, 3000);\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n  }\n\n  renderRole() {\n    var url =\n      this.state.phase == 2\n        ? RoleImages[this.props.role]\n        : \"asset/img/role_lot.gif\";\n    var imgv = this.state.phase == 1 ? \"hidden\" : \"visible\";\n    var txtv = this.state.phase == 2 ? \"visible\" : \"hidden\";\n    console.log(\"Rendering ROLE \", this.props.role, RoleNames);\n    return (\n      <div>\n        <RoleImg pose={imgv} style={{ width: \"75%\" }} src={url} />\n        <center>\n          <RoleH1 pose={txtv}>{RoleNames[this.props.role]}</RoleH1>\n        </center>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <center>\n        <h3>You are a...</h3>\n        {this.renderRole()}\n      </center>\n    );\n  }\n}\n\nexport default RoleView;\n","import React, { Component } from \"react\";\n\nimport { RoleImages, RoleNames } from \"../Game\";\n\nimport posed from \"react-pose\";\n\nvar TriedImage = posed.img({\n  visible: {\n    top: 20,\n  },\n  hidden: {\n    top: \"100%\",\n    transition: {\n      duration: 500,\n    },\n  },\n});\n\nclass ExecutionView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      imgshown: \"visible\",\n    };\n\n    console.log(\"Creating an execution view\", props);\n  }\n\n  componentDidMount() {\n    this.timeout = setTimeout(() => {\n      this.timeout = null;\n      this.setState({\n        imgshown: \"hidden\",\n      });\n    }, 3000);\n  }\n\n  componentWillUnmount() {\n    if (this.timeout) clearTimeout(this.timeout());\n  }\n\n  render() {\n    var graveStyle = this.state.imgshown ? { opacity: 1 } : { opacity: 0 };\n\n    return (\n      <center>\n        <div className=\"ui card\">\n          <div className=\"content\">\n            <div className=\"header\">\n              The town has decided to execute {this.props.player.name}.\n            </div>\n          </div>\n          <div\n            className=\"content\"\n            style={{ fontStyle: \"italic\", color: \"black\" }}\n          >\n            May god have mercy on your soul, {this.props.player.name}\n          </div>\n          <div className=\"image\" style={{ overflow: \"hidden\", width: \"50vw\" }}>\n            <img src={\"https://i.imgur.com/D4Lko8G.png\"} style={graveStyle} />\n            <TriedImage\n              src={this.props.player.image}\n              style={styles.overlapping}\n              pose={this.state.imgshown}\n            />\n          </div>\n          <br />\n        </div>\n      </center>\n    );\n  }\n}\n\nconst styles = {\n  overlapping: {\n    position: \"absolute\",\n    top: \"10%\",\n    left: \"10%\",\n    height: \"80%\",\n    width: \"auto\",\n  },\n};\n\nexport default ExecutionView;\n","import React, { Component } from \"react\";\nimport Sound from \"react-sound\";\n\nimport { dict, Phases } from \"../Game\";\n\nconst lobby_music =\n  \"https://soundimage.org/wp-content/uploads/2018/10/Our-Mountain_v003_Looping.mp3\";\nconst night_music =\n  \"http://soundimage.org/wp-content/uploads/2016/01/The-Castle-Beyond-the-Forest_Looping.mp3\";\n\nconst soundtracks = dict(\n  [\n    Phases.LOBBY,\n    {\n      url: lobby_music,\n      loop: true,\n      volume: 30,\n    },\n  ],\n\n  [\n    Phases.ROLE_SELECTION,\n    {\n      url: lobby_music,\n      loop: true,\n      volume: 30,\n    },\n  ],\n\n  [\n    Phases.PRE_GAME,\n    {\n      url: lobby_music,\n      loop: true,\n      volume: 30,\n    },\n  ],\n\n  [\n    Phases.NIGHT_TRANSITION,\n    {\n      url: \"/asset/sound/howling.mp3\",\n      loop: false,\n      volume: 50,\n    },\n  ],\n\n  [\n    Phases.NIGHT,\n    {\n      url: night_music,\n      loop: true,\n      volume: 60,\n    },\n  ],\n\n  [\n    Phases.DAY_TRANSITION,\n    {\n      url: \"/asset/sound/crowing.mp3\",\n      loop: false,\n      volume: 50,\n    },\n  ],\n\n  [\n    Phases.DAY_CALLOUTS,\n    {\n      url:\n        \"http://soundimage.org/wp-content/uploads/2014/12/Drinking-Alone.mp3\",\n      loop: false,\n      volume: 50,\n    },\n  ],\n\n  [\n    Phases.DISCUSSION,\n    {\n      url: \"http://soundimage.org/wp-content/uploads/2014/10/Lost-Island.mp3\",\n      loop: true,\n      volume: 40,\n    },\n  ],\n\n  [\n    Phases.TRIAL,\n    {\n      url: \"http://soundimage.org/wp-content/uploads/2015/03/Goblin-Loop.mp3\",\n      loop: true,\n      volume: 20,\n    },\n  ],\n\n  [\n    Phases.EXECUTION,\n    {\n      url: \"http://soundimage.org/wp-content/uploads/2015/03/Goblin-Loop.mp3\",\n      loop: true,\n      volume: 40,\n    },\n  ],\n\n  [\n    Phases.GAME_OVER,\n    {\n      url:\n        \"http://soundimage.org/wp-content/uploads/2016/07/RPG-Battle-Climax_v001.mp3\",\n      loop: true,\n      volume: 40,\n    },\n  ]\n);\n\nclass MusicPlayer extends Component {\n  render() {\n    if (soundtracks[this.props.phase]) {\n      return (\n        <Sound\n          url={soundtracks[this.props.phase].url}\n          volume={soundtracks[this.props.phase].volume}\n          playStatus={Sound.status.PLAYING}\n          loop={soundtracks[this.props.phase].loop}\n        />\n      );\n    } else {\n      return <div></div>;\n    }\n  }\n}\n\nexport default MusicPlayer;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {\n  Phases,\n  Roles,\n  RoleNames,\n  RoleImages,\n  RoleMessages,\n  RoleCustomButtons,\n  RoleColors,\n} from \"../../Game\";\n\nimport { moveTo } from \"../../actions/PagesActions\";\n\nimport RoleView from \"../RoleView\";\nimport ExecutionView from \"../ExecutionView\";\n\nimport * as multiplayer from \"../../multiplayer\";\n\nimport posed from \"react-pose\";\nimport MusicPlayer from \"../MusicPlayer\";\nimport { SquareImage } from \"../SquareImage\";\n\nconst TimerLbl = posed.div({\n  visible: {\n    right: 0,\n    left: \"\",\n  },\n  hidden: {\n    right: \"\",\n    left: \"100%\",\n  },\n});\n\nclass LobbyScreen extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderPlayerList = this.renderPlayerList.bind(this);\n    this.renderSun = this.renderSun.bind(this);\n    this.renderPregameHeader = this.renderPregameHeader.bind(this);\n    this.renderIngameHeader = this.renderIngameHeader.bind(this);\n    this.renderHeader = this.renderHeader.bind(this);\n    this.renderMainDiv = this.renderMainDiv.bind(this);\n\n    this.state = {\n      timer: null,\n    };\n  }\n\n  componentWillMount() {\n    this.timer = setInterval(() => {\n      var time = this.props.timer\n        ? Math.max(0, this.props.timer - new Date().getTime())\n        : null;\n      if (time != this.state.timer) this.setState({ timer: time });\n    }, 150);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  makeBlameDiv(txt) {\n    return (\n      <div>\n        <strong\n          style={{\n            color: \"#f00\",\n            borderRadius: \"10px\",\n            padding: \"2px\",\n            backgroundColor: \"black\",\n          }}\n        >\n          🡆 {txt}\n        </strong>\n      </div>\n    );\n  }\n\n  renderVotesPanel(votes, highlighted) {\n    return (\n      <div\n        style={{\n          position: \"absolute\",\n          top: 0,\n          left: 0,\n          borderBottomRightRadius: \"10px\",\n          padding: \"5px\",\n          backgroundColor: \"rgba(255, 0, 0, 0.8)\",\n          color: \"white\",\n          border: highlighted ? \"3px solid gold\" : \"3px solid red\",\n          borderLeft: \"\",\n          borderTop: \"\",\n        }}\n      >\n        {votes}\n      </div>\n    );\n  }\n\n  renderPlayerCard(player, options = {}) {\n    var onclick = options[\"onclick\"] || (() => 0);\n    var votes = options[\"votes\"] ? options[\"votes\"](player) : 0;\n\n    var style = player.dead ? styles.dead : styles.alive;\n    var outline =\n      player.id == this.props.network_id\n        ? { boxShadow: \"0 0 0 3pt gold\", borderRadius: \"2px\" }\n        : {};\n    var img = player.dead\n      ? \"https://www.freeiconspng.com/uploads/skull-and-crossbones-png-3.png\"\n      : player.image;\n\n    return (\n      <div\n        className=\"ui fluid card\"\n        onClick={() => onclick(player)}\n        style={{ ...outline, marginTop: \".4em\", marginBottom: \".4em\" }}\n        key={player.id}\n      >\n        <div className=\"image\">\n          <SquareImage\n            src={img}\n            color={player.dead ? \"transparent\" : player.color}\n          />\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: 0,\n              right: 0,\n              left: 0,\n              textAlign: \"center\",\n            }}\n          >\n            {/*blame ? this.makeBlameDiv(blame) : null*/}\n            <div style={{ ...style, width: \"100%\" }}>\n              {player.name.substr(0, 15)}\n            </div>\n          </div>\n          {votes\n            ? this.renderVotesPanel(votes, this.props.player.vote == player.id)\n            : null}\n        </div>\n      </div>\n    );\n  }\n\n  renderPlayerList(options) {\n    var col1 = this.props.players\n      .filter((_, i) => i % 4 == 0)\n      .map((x) => this.renderPlayerCard(x, options));\n    var col2 = this.props.players\n      .filter((_, i) => i % 4 == 1)\n      .map((x) => this.renderPlayerCard(x, options));\n    var col3 = this.props.players\n      .filter((_, i) => i % 4 == 2)\n      .map((x) => this.renderPlayerCard(x, options));\n    var col4 = this.props.players\n      .filter((_, i) => i % 4 == 3)\n      .map((x) => this.renderPlayerCard(x, options));\n    return (\n      <div className=\"ui four column grid\">\n        <div className=\"ui column\" style={{ padding: \"0.2rem\" }}>\n          {col1}\n        </div>\n        <div className=\"ui column\" style={{ padding: \"0.2rem\" }}>\n          {col2}\n        </div>\n        <div className=\"ui column\" style={{ padding: \"0.2rem\" }}>\n          {col3}\n        </div>\n        <div className=\"ui column\" style={{ padding: \"0.2rem\" }}>\n          {col4}\n        </div>\n      </div>\n    );\n  }\n\n  renderWinnersList(winners) {\n    return (\n      <div className=\"ui middle aligned list\">\n        Winning players:\n        {winners.map((w) => (\n          <div key={w.id} className=\"item\">\n            <img className=\"ui avatar image\" src={w.image} />\n            <div className=\"content\">\n              <div className=\"header\">\n                <strong>{w.name}</strong> ({RoleNames[w.role]})\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  sendSkip() {\n    multiplayer.skipDay();\n  }\n\n  renderStartButton() {\n    if (this.props.is_host && !this.props.in_game) {\n      return (\n        <div>\n          <div\n            style={{\n              position: \"fixed\",\n              right: 0,\n              top: 0,\n              marginTop: \"1em\",\n              marginRight: \"0.5em\",\n              zIndex: 10,\n            }}\n          >\n            <button\n              style={{ backgroundColor: \"#ac6635\", color: \"#f3f3f3\" }}\n              className=\"ui button\"\n              onClick={this.sendStartGame}\n            >\n              Start\n            </button>\n          </div>\n          <div\n            style={{\n              position: \"fixed\",\n              left: 0,\n              top: 0,\n              marginTop: \"1em\",\n              marginLeft: \"0.5em\",\n              zIndex: 10,\n            }}\n          >\n            <button\n              className=\"ui button\"\n              onClick={() => this.props.moveTo(\"setup\")}\n            >\n              Setup\n            </button>\n          </div>\n        </div>\n      );\n    } else if (this.props.is_host && this.props.phase == Phases.DISCUSSION) {\n      return (\n        <div>\n          <div\n            style={{\n              position: \"fixed\",\n              right: 0,\n              top: 0,\n              marginTop: \"1em\",\n              marginRight: \"0.5em\",\n              zIndex: 10,\n            }}\n          >\n            <button\n              style={{ backgroundColor: \"#ac6635\", color: \"#f3f3f3\" }}\n              className=\"ui button\"\n              onClick={this.sendSkip}\n            >\n              Skip\n            </button>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  renderSun() {\n    if (this.props.in_game) {\n      return (\n        <div\n          style={{\n            position: \"fixed\",\n            left: 0,\n            top: 0,\n            marginTop: \"1em\",\n            marginLeft: \"0.5em\",\n            zIndex: 10,\n          }}\n        >\n          <i\n            className={\"ui icon \" + (this.props.is_night ? \"moon\" : \"sun\")}\n            style={{ fontSize: \"2em\" }}\n          ></i>\n        </div>\n      );\n    }\n  }\n\n  renderPregameHeader() {\n    return (\n      <div style={styles.headerStyle}>\n        Party id:\n        <h1>{this.props.partyId}</h1>\n      </div>\n    );\n  }\n\n  renderIngameHeader() {\n    var msg =\n      {\n        ROLE_SELECTION: \"ROLES LOT...\",\n        PRE_GAME: \"Get ready to play...\",\n        NIGHT_TRANSITION: \"The night shall now begin...\",\n        NIGHT: \"Night\",\n        DAY_TRANSITION: \"The day shall now begin...\",\n        DISCUSSION: \"Discussion...\",\n        EXECUTION: \"Execution!\",\n        GAME_OVER: \"Game over!\",\n      }[this.props.phase] || this.props.message;\n\n    if (this.props.player.active && this.props.phase == Phases.NIGHT) {\n      if (this.props.nightIndex == \"SPOOKY_DOLL\") {\n        msg = \"Pass the spooky doll to someone\";\n      } else {\n        msg = RoleMessages[this.props.player.role];\n      }\n    }\n    return (\n      <div\n        style={{ ...styles.headerStyle, marginLeft: \"3em\", marginTop: \".5em\" }}\n      >\n        <h3>{msg}</h3>\n      </div>\n    );\n  }\n\n  renderHeader() {\n    if (this.props.in_game) {\n      return (\n        <div>\n          {this.renderIngameHeader()}\n          {this.renderSun()}\n        </div>\n      );\n    } else {\n      return this.renderPregameHeader();\n    }\n  }\n\n  renderRoleSelection() {\n    return <RoleView role={this.props.player.role} />;\n  }\n\n  renderBanner(icon) {\n    return (\n      <center>\n        <div style={{ position: \"block\", height: \"20vh\" }}></div>\n        <i className={\"massive icon \" + icon}></i>\n      </center>\n    );\n  }\n\n  kickPlayer(p) {\n    if (this.props.is_host) {\n      multiplayer.kick(p.id);\n    }\n  }\n\n  renderGameOver() {\n    var msgs = {\n      WEREWOLVES: \"Werewolves Win!\",\n      VILLAGE: \"Village Wins!\",\n      DRAW: \"Wipeout!\",\n      NOKILL: \"Draw! (no kills)\",\n      NEUTRAL: \"Neutral Players Win!\",\n      WITCH: \"Witch wins!\",\n      ARSONIST: \"Arsonist wins!\",\n      FOOL: \"Fool wins!\",\n    };\n\n    return (\n      <center>\n        <div style={{ position: \"block\", height: \"10vh\" }}></div>\n        <h1>{msgs[this.props.winning_faction] || \"Draw!\"}</h1>\n        {this.renderWinnersList(this.props.players.filter((x) => x.won))}\n      </center>\n    );\n  }\n\n  renderRolesList() {\n    return this.props.roles.slice(0, this.props.players.length).map((x, i) => (\n      <div\n        key={i}\n        style={{\n          display: \"inline-block\",\n          fontWeight: \"bold\",\n          color: RoleColors[x],\n        }}\n      >\n        {RoleNames[x]},&nbsp;&nbsp;\n      </div>\n    ));\n  }\n\n  renderIdleDiv() {\n    return (\n      <div>\n        {this.renderPlayerList({\n          onclick: (p) => this.kickPlayer(p),\n        })}\n        <p>&nbsp;</p>\n        <div>Roles: {this.renderRolesList()}</div>\n      </div>\n    );\n  }\n\n  renderMainDiv() {\n    var { phase } = this.props;\n\n    if (phase == Phases.LOBBY) {\n      return this.renderIdleDiv();\n    } else if (phase == Phases.ROLE_SELECTION) {\n      return this.renderRoleSelection();\n    } else if (phase == Phases.PRE_GAME || phase == Phases.DAY_CALLOUTS) {\n      return this.renderPlayerList();\n    } else if (phase == Phases.NIGHT_TRANSITION) {\n      return this.renderBanner(\"moon\");\n    } else if (phase == Phases.NIGHT) {\n      return this.renderNightdiv();\n    } else if (phase == Phases.DAY_TRANSITION) {\n      return this.renderBanner(\"sun\");\n    } else if (phase == Phases.DISCUSSION) {\n      return this.renderPlayerList({\n        onclick: (player) => multiplayer.setVote(player.id),\n        votes: (player) =>\n          this.props.players.filter((x) => x.vote == player.id).length,\n      });\n    } else if (phase == Phases.TRIAL) {\n      return this.renderTrial();\n    } else if (phase == Phases.EXECUTION) {\n      return this.renderExecution();\n    } else if (phase == Phases.GAME_OVER) {\n      return this.renderGameOver();\n    }\n  }\n\n  // Sends a player payload night action\n  nightActionPlayer(player) {\n    multiplayer.nightAction(player.id);\n  }\n\n  renderNightdiv() {\n    if (this.props.player.active) {\n      return (\n        <div>\n          {this.renderPlayerList({\n            onclick: this.nightActionPlayer,\n            votes:\n              this.props.player.role == Roles.WEREWOLF\n                ? (player) =>\n                    this.props.players.filter(\n                      (x) =>\n                        x.role == Roles.WEREWOLF &&\n                        !x.dead &&\n                        x.target == player.id\n                    ).length\n                : null,\n          })}\n          {this.renderCustomButtons()}\n        </div>\n      );\n    } else {\n      return this.renderBanner(\"moon\");\n    }\n  }\n\n  send_execute() {\n    multiplayer.trialGuilty();\n  }\n\n  send_free() {\n    multiplayer.trialInnocent();\n  }\n\n  renderGuiltyInno() {\n    if (this.props.is_host)\n      return (\n        <div className=\"extra content\">\n          <div className=\"ui two buttons\">\n            <div className=\"ui basic red button\" onClick={this.send_execute}>\n              Execute\n            </div>\n            <div className=\"ui basic green button\" onClick={this.send_free}>\n              Free\n            </div>\n          </div>\n        </div>\n      );\n  }\n\n  renderTrial() {\n    console.log(this.props.player_on_stand);\n    var p = this.props.player_on_stand;\n    return (\n      <center>\n        <div className=\"ui card\">\n          <div\n            className=\"image\"\n            style={{\n              width: \"50%\",\n              backgroundColor: \"transparent\",\n              margin: \"20px\",\n            }}\n          >\n            <img src={p.image} />\n          </div>\n          <div className=\"content\">\n            <div className=\"header\">{p.name}</div>\n          </div>\n          {this.renderGuiltyInno()}\n        </div>\n      </center>\n    );\n  }\n\n  renderExecution() {\n    return (\n      <div>\n        <ExecutionView player={this.props.player_on_stand} />\n        <div style={{ height: \"100vh\" }}>&nbsp;</div>\n      </div>\n    );\n  }\n\n  sendStartGame() {\n    multiplayer.startGame();\n  }\n\n  renderTimer() {\n    var timer = Math.ceil(this.state.timer / 1000 || 0);\n    var timestr =\n      timer >= 60\n        ? Math.floor(timer / 60) + \":\" + (\"0\" + (timer % 60)).slice(-2)\n        : timer.toString();\n    return (\n      <TimerLbl\n        pose={this.state.timer ? \"visible\" : \"hidden\"}\n        style={{ position: \"fixed\", bottom: \"10vh\" }}\n      >\n        <div\n          className=\"ui label big\"\n          style={{\n            backgroundColor: this.props.main_color,\n            color: this.props.secondary_color,\n            textAlign: \"center\",\n          }}\n        >\n          <i\n            className=\"time icon\"\n            style={{ margin: 0, marginBottom: \"4px\" }}\n          ></i>\n          <br />\n          {timestr}\n        </div>\n      </TimerLbl>\n    );\n  }\n\n  renderCustomButtons() {\n    return (\n      <center>\n        <br />\n        {this.customButtonList(RoleCustomButtons[this.props.player.role])}\n      </center>\n    );\n  }\n\n  customButtonList(buttons) {\n    buttons = buttons || [[\"Pass\", false]];\n    return buttons.map((b) => (\n      <button\n        key={b[0]}\n        className=\"ui primary button\"\n        onClick={() => multiplayer.nightAction(b[1])}\n      >\n        {b[0]}\n      </button>\n    ));\n  }\n\n  showRole() {\n    console.log(this.props.player);\n    if (!this.props.player.role) {\n      window.Modal.open(\n        <div>\n          <center>\n            <h1> </h1>\n            <h1>Cannot show your role right now</h1>\n          </center>\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: \"20px\",\n              right: \"20px\",\n              textAlign: \"right\",\n            }}\n          >\n            <button className=\"ui button\" onClick={() => Modal.close()}>\n              Close\n            </button>\n          </div>\n        </div>\n      );\n    } else {\n      window.Modal.open(\n        <div>\n          <RoleView immediate role={this.props.player.role} />\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: \"20px\",\n              right: \"20px\",\n              textAlign: \"right\",\n            }}\n          >\n            <button className=\"ui button\" onClick={() => Modal.close()}>\n              Close\n            </button>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  renderBottomMenu() {\n    return (\n      <div\n        className=\"ui three item inverted secondary menu\"\n        style={{\n          position: \"fixed\",\n          bottom: 0,\n          left: 0,\n          right: 0,\n          backgroundColor: \"black\",\n        }}\n      >\n        <a className=\"item\" onClick={() => multiplayer.leaveRoom()}>\n          Exit\n        </a>\n        <a className=\"item\" onClick={this.showRole.bind(this)}>\n          Show Role\n        </a>\n        {this.props.phase == Phases.DISCUSSION ? (\n          <a className=\"item\" onClick={() => multiplayer.showNotifications()}>\n            Notifications\n          </a>\n        ) : null}\n      </div>\n    );\n  }\n\n  renderMusic() {\n    if (this.props.is_host) {\n      return <MusicPlayer phase={this.props.phase} />;\n    }\n  }\n\n  render() {\n    const style =\n      this.props.is_night && this.props.in_game ? styles.night : styles.day;\n    return (\n      <div id=\"elid\">\n        <div\n          style={{\n            ...style,\n            position: \"fixed\",\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0,\n          }}\n        ></div>\n        <div\n          style={{\n            ...style,\n            position: \"absolute\",\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0,\n          }}\n        >\n          <center\n            style={{\n              ...style,\n              position: \"fixed\",\n              top: 0,\n              right: 0,\n              left: 0,\n              zIndex: 9,\n            }}\n          >\n            {this.renderHeader()}\n          </center>\n\n          <center>\n            {\" \"}\n            {/*placeholder*/}\n            {this.renderHeader()}\n          </center>\n\n          <div className=\"ui divider\"></div>\n\n          <div className=\"ui container\">{this.renderMainDiv()}</div>\n          {this.renderStartButton()}\n\n          {this.renderTimer()}\n\n          {this.renderBottomMenu()}\n\n          {this.renderMusic()}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  var __players = [\n    {\n      id: \"182736125\",\n      role: \"VILLAGER\",\n      name: \"Yotam\",\n      img: \"https://semantic-ui.com/images/avatar/small/steve.jpg\",\n    },\n    {\n      id: \"6345234318\",\n      name: \"Koren\",\n      img: \"https://semantic-ui.com/images/avatar2/small/matthew.png\",\n    },\n    {\n      id: \"34523657445\",\n      name: \"Ron\",\n      img: \"https://semantic-ui.com/images/avatar2/large/rachel.png\",\n    },\n    {\n      id: \"09345342314\",\n      name: \"Shai\",\n      img: \"https://semantic-ui.com/images/avatar2/small/elyse.png\",\n    },\n    {\n      id: \"34543657445\",\n      name: \"Shir\",\n      img: \"https://semantic-ui.com/images/avatar/large/elliot.jpg\",\n    },\n    {\n      id: \"09394342314\",\n      dead: true,\n      name: \"Daniel\",\n      img: \"https://semantic-ui.com/images/avatar/large/daniel.jpg\",\n    },\n    {\n      id: \"34543657245\",\n      name: \"Shaked\",\n      img: \"https://semantic-ui.com/images/avatar2/large/molly.png\",\n    },\n    {\n      id: \"09394372314\",\n      name: \"Or\",\n      img: \"https://semantic-ui.com/images/avatar/large/jenny.jpg\",\n    },\n    {\n      id: \"34543657449\",\n      name: \"Diana\",\n      img: \"https://semantic-ui.com/images/avatar/large/helen.jpg\",\n    },\n    {\n      id: \"19394342314\",\n      name: \"Kalman\",\n      img: \"https://semantic-ui.com/images/avatar/large/veronika.jpg\",\n    },\n  ];\n\n  // var phase = Phases.LOBBY;\n  // var { roomId, clients, message, player_on_stand, id } = state.mp;\n  // console.log(\"Clients \", clients);\n  // console.log(\"Phase \", phase)\n  // var me = clients.filter(x => x.id == \"182736125\")[0];\n\n  // return {\n  //     partyId: roomId,\n  //     players: clients,\n  //     is_host: clients.length > 0 && clients[0].id == me.id,\n  //     in_game: ~([\n  //         Phases.NIGHT_TRANSITION, Phases.NIGHT,\n  //         Phases.DAY_TRANSITION, Phases.DAY_CALLOUTS, Phases.DISCUSSION,\n  //         Phases.TRIAL, Phases.EXECUTION,\n  //         Phases.GAME_OVER\n  //     ]).indexOf(phase),\n  //     is_night: ~([\n  //         Phases.NIGHT_TRANSITION, Phases.NIGHT\n  //     ]).indexOf(phase),\n  //     phase: phase,\n  //     message: message,\n  //     network_id: id,\n  //     player: me,\n  //     player_on_stand: player_on_stand\n  // }\n\n  var in_game = !!~[\n    Phases.ROLE_SELECTION,\n    Phases.PRE_GAME,\n    Phases.NIGHT_TRANSITION,\n    Phases.NIGHT,\n    Phases.DAY_TRANSITION,\n    Phases.DAY_CALLOUTS,\n    Phases.DISCUSSION,\n    Phases.TRIAL,\n    Phases.EXECUTION,\n    Phases.GAME_OVER,\n  ].indexOf(state.mp.phase);\n\n  var is_night = !!~[Phases.NIGHT_TRANSITION, Phases.NIGHT].indexOf(\n    state.mp.phase\n  );\n\n  var players = in_game ? state.mp.players : state.mp.clients;\n\n  var me = players.filter((x) => x.id == state.mp.id);\n  if (me.length > 0) me = me[0];\n  else me = null;\n\n  console.log(\"Role \", me.role);\n\n  return {\n    partyId: state.mp.roomId,\n    players: players,\n    player: me,\n    network_id: state.mp.id || null,\n\n    is_host:\n      state.mp.clients.length > 0 && state.mp.clients[0].id == state.mp.id,\n    in_game: in_game,\n    is_night: is_night,\n\n    message: state.mp.message,\n    phase: state.mp.phase || Phases.LOBBY,\n    timer: state.mp.timer,\n\n    main_color: is_night ? \"royalblue\" : \"#ac6635\",\n    secondary_color: is_night ? \"#111\" : \"#f3f3f3\",\n\n    player_on_stand: state.mp.player_on_stand,\n\n    winning_faction: state.mp.winning_faction,\n\n    nightIndex: state.mp.night_index,\n\n    roles: state.mp ? state.mp.roles || [] : [],\n  };\n};\n\nconst styles = {\n  night: {\n    backgroundColor: \"#111\",\n    color: \"royalBlue\",\n  },\n  day: {\n    backgroundColor: \"#f3f3f3\",\n  },\n  headerStyle: {\n    minHeight: \"7vh\",\n  },\n  dead: {\n    backgroundColor: \"rgba(240,240,240,0.6)\",\n    color: \"gray\",\n  },\n  alive: {\n    color: \"white\",\n    backgroundColor: \"rgba(43,96,222,0.6)\",\n  },\n};\n\nexport default connect(mapStateToProps, { moveTo })(LobbyScreen);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { RoleNames, RoleColors, Presets } from \"../../Game\";\n\nimport { moveTo } from \"../../actions/PagesActions\";\nimport { addRole, removeRole, setPreset } from \"../../multiplayer\";\n\nclass SetupScreen extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      roles: [],\n    };\n\n    if (window.io) {\n      window.io.off(\"roles_list\");\n      window.io.on(\"roles_list\", (list) => {\n        this.setState({ roles: list });\n      });\n    }\n  }\n\n  componentDidMount() {\n    $(\".ui.dropdown\").dropdown();\n  }\n\n  renderRoleBtn(role, name, color, customStyle = {}) {\n    return (\n      <button\n        onClick={() => addRole(role)}\n        className={\"ui inverted fluid button \" + color}\n        style={{ marginBottom: \"5px\", ...customStyle }}\n      >\n        {name}\n      </button>\n    );\n  }\n\n  renderRoleCard(key, name, color) {\n    console.log(name);\n    var style =\n      color == \"white\"\n        ? {\n            background:\n              \"linear-gradient(to right, orange , yellow, green, cyan, blue, violet)\",\n          }\n        : {};\n    return (\n      <button\n        key={key}\n        onClick={() => removeRole(key)}\n        className={\"ui fluid button \" + color}\n        style={{ marginBottom: \"5px\", ...style }}\n      >\n        {name}\n      </button>\n    );\n  }\n\n  renderRolesList() {\n    console.log(this.props);\n    return this.props.roles.map((x, i) =>\n      this.renderRoleCard(i, RoleNames[x], RoleColors[x])\n    );\n  }\n\n  presetClick(e) {\n    e = e || window.event;\n    var target = e.target || s.srcElement;\n    setPreset(target.getAttribute(\"data-value\"));\n    window.cE = target;\n  }\n\n  render() {\n    return (\n      <div>\n        <div\n          style={{\n            position: \"fixed\",\n            right: 0,\n            bottom: 0,\n            marginBottom: \"1em\",\n            marginRight: \"0.5em\",\n            zIndex: 10,\n          }}\n        >\n          <button\n            className=\"ui primary button\"\n            onClick={() => this.props.moveTo(\"game\")}\n          >\n            Save & Continue\n          </button>\n        </div>\n\n        <center>\n          <h2>Game Preset</h2>\n          <br />\n        </center>\n        <div\n          className=\"ui container grid two columns\"\n          style={{ height: \"80vh\" }}\n        >\n          <div\n            className=\"ui column\"\n            style={{ overflowY: \"auto\", height: \"100%\" }}\n          >\n            <center>Add roles:</center>\n            <div onClick={(e) => this.presetClick(e)}>\n              <select className=\"ui fluid dropdown\">\n                <option value=\"\">Presets</option>\n                {Object.keys(Presets).map((preset) => (\n                  <option key={preset} value={preset}>\n                    {Presets[preset].name}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <br />\n            {this.renderRoleBtn(\"VILLAGER\", \"Villager\", \"green\")}\n            {this.renderRoleBtn(\"HEALER\", \"Healer\", \"green\")}\n            {this.renderRoleBtn(\"SEER\", \"Fortune Teller\", \"green\")}\n            {this.renderRoleBtn(\"SPY\", \"Spy\", \"green\")}\n            {this.renderRoleBtn(\"INVESTIGATOR\", \"Investigator\", \"green\")}\n            {this.renderRoleBtn(\"VETERAN\", \"Veteran\", \"green\")}\n            {this.renderRoleBtn(\"PRIEST\", \"Priest\", \"green\")}\n            <hr />\n            {this.renderRoleBtn(\"WEREWOLF\", \"Werewolf\", \"red\")}\n            {this.renderRoleBtn(\"WOLF_SEER\", \"Wolf Seer\", \"red\")}\n            <hr />\n            {this.renderRoleBtn(\"ARSONIST\", \"Arsonist\", \"orange\")}\n            {this.renderRoleBtn(\"WITCH\", \"Witch\", \"purple\")}\n            {this.renderRoleBtn(\"CREEPY_GIRL\", \"Creepy Girl\", \"purple\")}\n            {this.renderRoleBtn(\"JESTER\", \"Jester\", \"blue\")}\n            {this.renderRoleBtn(\"FOOL\", \"Fool\", \"blue\")}\n            <hr />\n            {this.renderRoleBtn(\"TOWN_INV\", \"♦ Invest ♦\", \"green\")}\n            {this.renderRoleBtn(\"TOWN_ATCK\", \"♦ Attack ♦\", \"green\")}\n            {this.renderRoleBtn(\"TOWN_RAND\", \"♦ Random ♦\", \"green\")}\n            {this.renderRoleBtn(\"WOLF_RAND\", \"♦ Random ♦\", \"red\")}\n            {this.renderRoleBtn(\"RANDOM\", \"Random\", \"white\", {\n              background:\n                \"linear-gradient(to right, orange , yellow, green, cyan, blue, violet)\",\n            })}\n          </div>\n          <div\n            className=\"ui column\"\n            style={{ overflowY: \"auto\", height: \"100%\" }}\n          >\n            <center>Roles:</center>\n            {this.renderRolesList()}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    roles: state.mp ? state.mp.roles || [] : [],\n  };\n};\n\nexport default connect(mapStateToProps, { moveTo })(SetupScreen);\n","import React, { Component } from \"react\";\nimport posed from \"react-pose\";\nimport NotificationView from \"./NotificationsView\";\n\nconst PosedModal = posed.div({\n  open: {\n    marginBottom: \"5px\",\n    marginTop: \"5px\",\n    opacity: 1,\n    transition: {\n      duration: 300,\n      ease: \"backOut\",\n    },\n  },\n  closed: {\n    marginBottom: \"50%\",\n    marginTop: \"50%\",\n    opacity: 0,\n  },\n  hardClosed: {\n    marginBottom: \"50%\",\n    marginTop: \"50%\",\n    opacity: 0,\n    transition: {\n      duration: 0,\n    },\n  },\n});\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n\n    window.Modal = this;\n\n    this.state = {\n      openState: \"closed\",\n      display: \"none\",\n    };\n\n    this.modalContent = null;\n  }\n\n  __show() {\n    this.setState({\n      openState: \"open\",\n      display: \"\",\n    });\n  }\n\n  __hide() {\n    this.setState({\n      openState: \"hardClosed\",\n      display: \"none\",\n    });\n  }\n\n  __close() {\n    this.setState({\n      openState: \"closed\",\n    });\n    setTimeout(() => {\n      if (\n        this.state.openState == \"closed\" ||\n        this.state.openState == \"hardClosed\"\n      ) {\n        this.setState({\n          display: \"none\",\n        });\n      }\n    }, 500);\n  }\n\n  open(content) {\n    console.log(this.state.openState);\n    this.modalContent = content;\n    if (this.state.openState == \"open\") {\n      this.__hide();\n      setTimeout(() => this.__show(), 1);\n    } else {\n      this.__show();\n    }\n  }\n\n  close() {\n    this.__close();\n  }\n\n  componentWillMount() {}\n\n  render() {\n    return (\n      <PosedModal\n        pose={this.state.openState}\n        style={{ ...styles.modal, display: this.state.display }}\n      >\n        {this.modalContent}\n      </PosedModal>\n    );\n  }\n}\n\nconst styles = {\n  modal: {\n    margin: \"15px\",\n    padding: \"10px\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    position: \"fixed\",\n    backgroundColor: \"#ececec\",\n    borderRadius: \"10px\",\n    fontSize: \"larger\",\n    border: \"4px solid #ac6635\",\n    zIndex: 10,\n  },\n};\n\nexport default Modal;\n\nwindow.xx = () => {};\n","import React, { Component } from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport LoginScreen from \"./containers/LoginScreen\";\nimport MainScreen from \"./containers/MainScreen\";\nimport ProfileScreen from \"./containers/ProfileScreen\";\n\nimport LobbyScreen from \"./containers/LobbyScreen\";\nimport SetupScreen from \"./containers/SetupScreen\";\n\nimport * as multiplayer from \"../multiplayer\";\nimport { getNickname, getColor, getAvatar } from \"../auth/Profile\";\n\nimport Modal from \"./Modal\";\n\nclass App extends Component {\n  componentDidMount() {\n    //location.href = \"#\";\n    multiplayer.init(this.props.dispatch);\n    window.onConnected.push(function () {\n      multiplayer.setDetails({\n        nickname: getNickname(),\n        color: getColor(),\n        avatar: getAvatar(),\n      });\n    });\n\n    if (false) {\n      // change to false on production\n      window.localStorage.__proto__ = Object.create(Storage.prototype);\n      window.localStorage.__proto__.setItem = (x, v) => {\n        window[\"__local__\" + x] = v;\n      };\n      window.localStorage.__proto__.getItem = (x) => window[\"__local__\" + x];\n    }\n  }\n\n  renderDimmer() {\n    if (!this.props.connected) {\n      return <LoginScreen />;\n    }\n  }\n\n  renderScreen() {\n    // if (!this.props.connected) {\n    //   return <MainScreen/>;\n    // }\n\n    if (this.props.roomId) {\n      if (this.props.page == \"setup\") {\n        return <SetupScreen />;\n      }\n      return <LobbyScreen />;\n    }\n\n    if (this.props.page == \"profile\") {\n      return <ProfileScreen />;\n    }\n\n    return <MainScreen />;\n  }\n\n  render() {\n    return (\n      <div>\n        {this.renderScreen()}\n        {this.renderDimmer()}\n        <Modal />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    page: state.pages.page,\n    connected: state.mp.connected,\n    roomId: state.mp.roomId,\n  };\n};\n\nexport default connect(mapStateToProps)(App);\n","const defaultState = {\n  login: true,\n};\n\nconst AuthReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      return { ...state, login: true };\n    default:\n      return state;\n  }\n};\n\nexport default AuthReducer;\n","const initialState = {\n  page: \"dev\",\n};\n\nconst PagesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"CHANGE_PAGE\":\n      return { ...state, page: action.payload };\n    default:\n      return state;\n  }\n};\n\nexport default PagesReducer;\n","const initialState = {\n  roomId: null,\n  players: [\n    {\n      id: \"182736125\",\n      name: \"Yotam\",\n      img: \"https://semantic-ui.com/images/avatar/small/steve.jpg\",\n    },\n    {\n      id: \"6345234318\",\n      name: \"Koren\",\n      img: \"https://semantic-ui.com/images/avatar2/small/matthew.png\",\n    },\n    {\n      id: \"34523657445\",\n      name: \"Ron\",\n      img: \"https://semantic-ui.com/images/avatar2/large/rachel.png\",\n    },\n    {\n      id: \"09345342314\",\n      name: \"Shai\",\n      img: \"https://semantic-ui.com/images/avatar2/small/elyse.png\",\n    },\n    {\n      id: \"34543657445\",\n      name: \"Shir\",\n      img: \"https://semantic-ui.com/images/avatar/large/elliot.jpg\",\n    },\n    {\n      id: \"09394342314\",\n      name: \"Daniel\",\n      img: \"https://semantic-ui.com/images/avatar/large/daniel.jpg\",\n    },\n    {\n      id: \"34543657245\",\n      name: \"Shaked\",\n      img: \"https://semantic-ui.com/images/avatar2/large/molly.png\",\n    },\n    {\n      id: \"09394372314\",\n      name: \"Or\",\n      img: \"https://semantic-ui.com/images/avatar/large/jenny.jpg\",\n    },\n    {\n      id: \"34543657449\",\n      name: \"Diana\",\n      img: \"https://semantic-ui.com/images/avatar/large/helen.jpg\",\n    },\n    {\n      id: \"19394342314\",\n      name: \"Kalman\",\n      img: \"https://semantic-ui.com/images/avatar/large/veronika.jpg\",\n    },\n  ],\n  clients: [],\n  connected: false,\n};\n\nconst MultiplayerReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"UPDATE_MULTIPLAYER\":\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n};\n\nexport default MultiplayerReducer;\n","import { combineReducers } from \"redux\";\n\nimport AuthReducer from \"./AuthReducer\";\nimport PagesReducer from \"./PagesReducer\";\nimport MultiplayerReducer from \"./MultiplayerReducer\";\n\nconst rootReducer = combineReducers({\n  auth: AuthReducer,\n  pages: PagesReducer,\n  mp: MultiplayerReducer,\n});\n\nexport default rootReducer;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware } from \"redux\";\n\nimport App from \"./components/app\";\nimport reducers from \"./reducers\";\n\nconst createStoreWithMiddleware = applyMiddleware()(createStore);\n\nReactDOM.render(\n  <Provider store={createStoreWithMiddleware(reducers)}>\n    <App />\n  </Provider>,\n  document.querySelector(\".container\")\n);\n"],"sourceRoot":""}